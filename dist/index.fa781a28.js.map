{"mappings":"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","sources":["2.L/old.js"],"sourcesContent":["var Discount = /** @class */ (function () {\r\n    function Discount(type, value) {\r\n        if (value === void 0) { value = 0; }\r\n        this._type = type;\r\n        this._value = value;\r\n        if (this._type != 'none' && value <= 0) {\r\n            throw new Error('You cannot create a ' + this._type + ' discount with a negative value');\r\n        }\r\n    }\r\n    Discount.prototype.apply = function (price) {\r\n        //@todo: instead of using magic values as string in this, it would be a lot better to change them into constant. This would protect us from misspellings. Can you improve this?\r\n        if (this._type === \"none\") {\r\n            return price;\r\n        }\r\n        else if (this._type === \"variable\") {\r\n            return (price - (price * this._value / 100));\r\n        }\r\n        else if (this._type === \"fixed\") {\r\n            return Math.max(0, price - this._value);\r\n        }\r\n        else {\r\n            throw new Error('Invalid type of discount');\r\n        }\r\n    };\r\n    Discount.prototype.showCalculation = function (price) {\r\n        if (this._type === \"none\") {\r\n            return \"No discount\";\r\n        }\r\n        else if (this._type === \"variable\") {\r\n            return price + \" € -  \" + this._value + \"%\";\r\n        }\r\n        else if (this._type === \"fixed\") {\r\n            return price + \"€ -  \" + this._value + \"€ (min 0 €)\";\r\n        }\r\n        else {\r\n            throw new Error('Invalid type of discount');\r\n        }\r\n    };\r\n    return Discount;\r\n}());\r\nvar Product = /** @class */ (function () {\r\n    function Product(name, price, discount) {\r\n        this._name = name;\r\n        this._price = price;\r\n        this._discount = discount;\r\n    }\r\n    Object.defineProperty(Product.prototype, \"name\", {\r\n        get: function () {\r\n            return this._name;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Product.prototype, \"discount\", {\r\n        get: function () {\r\n            return this._discount;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Product.prototype, \"originalPrice\", {\r\n        get: function () {\r\n            return this._price;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //The reason we call this function \"calculateX\" instead of using a getter on Price is because names communicate a lot of meaning between programmers.\r\n    //most programmers would assume a getPrice() would be a simple display of a property that is already calculated, but in fact this function does a (more expensive) operation to calculate on the fly.\r\n    Product.prototype.calculatePrice = function () {\r\n        return this._discount.apply(this._price);\r\n    };\r\n    Product.prototype.showCalculation = function () {\r\n        return this._discount.showCalculation(this._price);\r\n    };\r\n    return Product;\r\n}());\r\nvar shoppingBasket = /** @class */ (function () {\r\n    function shoppingBasket() {\r\n        //this array only accepts Product objects, nothing else\r\n        this._products = [];\r\n    }\r\n    Object.defineProperty(shoppingBasket.prototype, \"products\", {\r\n        get: function () {\r\n            return this._products;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    shoppingBasket.prototype.addProduct = function (product) {\r\n        this._products.push(product);\r\n    };\r\n    return shoppingBasket;\r\n}());\r\nvar cart = new shoppingBasket();\r\ncart.addProduct(new Product('Chair', 25, new Discount(\"fixed\", 10)));\r\n//cart.addProduct(new Product('Chair', 25, new Discount(\"fixed\", -10)));\r\ncart.addProduct(new Product('Table', 50, new Discount(\"variable\", 25)));\r\ncart.addProduct(new Product('Bed', 100, new Discount(\"none\")));\r\nvar tableElement = document.querySelector('#cart tbody');\r\ncart.products.forEach(function (product) {\r\n    var tr = document.createElement('tr');\r\n    var td = document.createElement('td');\r\n    td.innerText = product.name;\r\n    tr.appendChild(td);\r\n    td = document.createElement('td');\r\n    td.innerText = product.originalPrice.toFixed(2) + \" €\";\r\n    tr.appendChild(td);\r\n    td = document.createElement('td');\r\n    td.innerText = product.calculatePrice().toFixed(2) + \" €\";\r\n    tr.appendChild(td);\r\n    td = document.createElement('td');\r\n    td.innerText = product.showCalculation();\r\n    tr.appendChild(td);\r\n    tableElement.appendChild(tr);\r\n});\r\n"],"names":[],"version":3,"file":"index.fa781a28.js.map","sourceRoot":"/__parcel_source_root/"}